# FastAPI AI Service Production Configuration

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
TESTING=false

# Database
DATABASE_URL=postgresql://hugdata:hugdata_password@postgres:5432/hugdata
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://redis:6379/0
REDIS_POOL_SIZE=10
REDIS_TIMEOUT=5

# Vector Store (Weaviate)
WEAVIATE_URL=http://weaviate:8080
WEAVIATE_TIMEOUT=30
WEAVIATE_RETRIES=3

# LLM Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_TIMEOUT=60
OPENAI_MAX_RETRIES=3

ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet

COHERE_API_KEY=your_cohere_api_key_here
COHERE_MODEL=command

# Fallback Configuration
LLM_FALLBACK_ENABLED=true
LLM_FALLBACK_ORDER=openai,anthropic,cohere

# API Configuration
API_HOST=0.0.0.0
API_PORT=8003
API_WORKERS=4
API_RELOAD=false
API_ACCESS_LOG=true

# Security
API_CORS_ORIGINS=https://hugdata.example.com,http://localhost:3000
API_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
API_CORS_HEADERS=*
API_TRUSTED_HOSTS=hugdata.example.com,localhost

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# Caching
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Monitoring
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1

# Dagster
DAGSTER_HOME=/app/dagster_home
DAGSTER_DATABASE_URL=postgresql://hugdata:hugdata_password@postgres:5432/hugdata

# Background Tasks
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_WORKER_CONCURRENCY=4

# File Storage
STORAGE_PATH=/app/storage
TEMP_PATH=/tmp
MAX_UPLOAD_SIZE=100MB

# Analytics
ANALYTICS_ENABLED=true
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_FLUSH_INTERVAL=60

# Performance
QUERY_TIMEOUT=300
MAX_CONCURRENT_REQUESTS=100
CONNECTION_POOL_SIZE=20